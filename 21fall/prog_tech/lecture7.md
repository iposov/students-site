# Ключевое слово `var`

Переменные можно вводить с помощью ключевого слова var, оно позволяет не указывать явно тип переменной:

Вместо

```
int x = 42;
```

Можно написать 

```
var x = 42;
```

Тип переменной определяется по тому, что написано в присваивании (в инициализаторе). В данном случае это будет `int` потому что справа `int`.

```
var s = "abc"; // тип String
var a = new int[]{10, 20, 30}; // тип int[]
var b = {10, 20, 30}; // тип int[]
```

Хитрость

```
byte b1 = 42; //тип b1 — это byte (неявное приведение типа)
var b2 = 42; //тип b2 — это int
var b3 = 42L; //тип b3 — это long (из-за L)
var b4 = (byte)42; //тип b4 — это byte
```

Часто var помогает сократить код, если используется очень длинный тип.

# Объектно-ориентированное программирование

Классы, которые мы уже знаем: String, Scanner, PrintStream, File/Path, Pattern — хранит регулярное выражение, Matcher — информация о процессе сопоставления конкретного регулярного-выражения с конкретной строкой.

## Создание класса
Договоримся иметь один класс в одном файле. Класс = Файл. В Java это почти обязательно, есть требование что публичные классы (общедоступные классы) обязательно должны называться ровно так же, как называется файл. Т.е. класс `TaskA` должен быть в файле `TaskA.java`.

Классы можно раскладывать по папочкам. Например

```
src (каталог исходников)
     A.java    (public class A)
     B.java    (public class B)
     p1        (каталог = пакет)
         A.java (public class A)
         X.java (public class X)
         p2    (каталог = пакет)
              A.java (public class A)
              Y.java (public class Y)
     p3        (каталог = пакет)
         A.java (public class A)
         Z.java (public class Z)
```

Про классы A и B из каталога `src` говорят, что они лежат в «пакете по-умолчанию». Лучше не иметь классов в пакете по-умолчанию и положить их в какие-то другие пакеты. 

Каталог `p1` задаёт пакет, который называется `p1`. Каталог `p3` задаёт пакет, который называется `p3`. Каталог `p2` задаёт пакет, который называется `p1.p2`. Имя пакета соответствует пути от корневой директории с исходными файлами, но вместо разделения путей используется точка.

Имена пакетов принято делать маленькими буквами, обычно это одно слово.

Очень часто код пишут в пакетах с длинными названиями, соответствующими домену проекта, но в обратную сторону:
`arts.spbu.ru` (ф-т искусств, допустим), т.е. логично наш код писать в пакете:
`ru.spbu.arts.progtech.posov.task1`.

Полное имя класса — это имя пакета, точка, имя класса. Например, полное имя класса `Y` — это `p1.p2.Y`.

Если вы пишете код класса из какого-то пакета (не по-умолчанию), в начале обязательно надо написать `package имя.пакета;` Имя обязано соответствовать структуре каталогов.

Если вы хотите в одном классе использовать класс из другого пакета, вы должны написать:

```
// import полное имя класса;
import java.util.Scanner; //Scanner из пакета java.util

// можно писать
import java.util.*; //все классы из соответствующего пакета
```

Или используйте в коде полное имя класса:

```
java.util.Scanner in = new java.util.Scanner("read me");
```

## Описание класса

```java
package ru.spbu.arts.posov;

public class Book { // в файле Book.java

    // статические элементы класса
    static int numBooks; // сколько всего книг в библиотеке
    static void addBook() {
        Book.numBooks += 1;
    }

    // элементы класса
    // поля, хранят данные
    String title;
    String author;
    int year;

    // методы, совершают действия
    // [тип результата] [имя функции]([аргументы]) {
    // }
    // this — аналог self в Python, только в отличие от Python его не нужно писать явно
    void print() {
        System.out.println(this.author + ", " + this.title + " (" + this.year + ")");
    }
}

```

Проверть работу класса можно так:

```java
package ru.spbu.arts.posov;

public class BookTester {
    public static void main(String[] args) {
        // создание объекта: new ИмяКласса(аргументы)
        Book book1 = new Book(); //тип = класс
        book1.title = "Harry Potter";
        book1.author = "Joan Rowling";
        book1.year = 1997;

        //оператор new создает объект
        Book book2 = new Book();
        book2.title = "Alice in Wonderland";
        book2.author = "Lewis Carrol";
        book2.year = 1200;

        //в первом print переменная this = book1
        book1.print();
        //во втором print переменная this = book2
        book2.print();

        //Статические элементы, обращаемся к классу
        Book.numBooks = 0;
        Book.addBook();
        Book.addBook();
        System.out.println("Теперь у нас книг: " + Book.numBooks);
    }
}
```
